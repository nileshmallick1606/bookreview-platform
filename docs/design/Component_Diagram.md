# Component Diagram: BookReview Platform

**Document Version:** 1.0  
**Date:** September 2, 2025  
**Author:** Internal Assignment Team  

## 1. High-Level Component Diagram

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│                    Client Browser                       │
│                                                         │
└───────────────────────┬─────────────────────────────────┘
                        │
                        ▼
┌─────────────────────────────────────────────────────────┐
│                                                         │
│                Frontend React Application               │
│                                                         │
│  ┌───────────┐   ┌───────────┐   ┌───────────────────┐  │
│  │Components │   │   Pages   │   │   State           │  │
│  │           │   │           │   │   Management      │  │
│  └────┬──────┘   └─────┬─────┘   └─────────┬─────────┘  │
│       │                │                   │            │
│  ┌────▼────────────────▼───────────────────▼─────────┐  │
│  │                API Services                       │  │
│  └────────────────────────┬──────────────────────────┘  │
│                           │                             │
└───────────────────────────┼─────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│                                                         │
│                Backend Express Application              │
│                                                         │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │  API Routes │  │ Controllers │  │  Services       │  │
│  │             │  │             │  │                 │  │
│  └──────┬──────┘  └──────┬──────┘  └────────┬────────┘  │
│         │                │                  │           │
│         └────────────────┼──────────────────┘           │
│                          │                              │
│  ┌──────────────────────────────────────────────────┐   │
│  │                    Repositories                   │   │
│  └───────────────────────┬──────────────────────────┘   │
│                          │                              │
└──────────────────────────┼──────────────────────────────┘
                           │
                           ▼
┌──────────────────────────────────────────────────────────┐
│                                                          │
│                 File-Based Data Storage                  │
│                                                          │
│      ┌──────────┐    ┌───────────┐    ┌──────────┐       │
│      │users.json│    │books.json │    │reviews.json│      │
│      └──────────┘    └───────────┘    └──────────┘       │
│                                                          │
└──────────────────────────────────────────────────────────┘
                           │
                           ▼
┌──────────────────────────────────────────────────────────┐
│                                                          │
│                     OpenAI API                           │
│                   (Recommendations)                       │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

## 2. Frontend Component Detail

```
┌─────────────────────────────────────────────────────────────────────┐
│                      Frontend Application                           │
│                                                                     │
│  ┌─────────────────┐  ┌────────────────┐  ┌────────────────────┐    │
│  │                 │  │                │  │                    │    │
│  │   UI Components │  │     Pages      │  │  State Management  │    │
│  │                 │  │                │  │                    │    │
│  │ ┌─────────────┐ │  │ ┌────────────┐ │  │ ┌──────────────┐   │    │
│  │ │ BookCard    │ │  │ │ HomePage   │ │  │ │ AuthContext  │   │    │
│  │ └─────────────┘ │  │ └────────────┘ │  │ └──────────────┘   │    │
│  │ ┌─────────────┐ │  │ ┌────────────┐ │  │ ┌──────────────┐   │    │
│  │ │ ReviewForm  │ │  │ │ AuthPage   │ │  │ │ BooksContext │   │    │
│  │ └─────────────┘ │  │ └────────────┘ │  │ └──────────────┘   │    │
│  │ ┌─────────────┐ │  │ ┌────────────┐ │  │ ┌──────────────┐   │    │
│  │ │ Rating      │ │  │ │ BooksPage  │ │  │ │ ReviewsContext│   │    │
│  │ └─────────────┘ │  │ └────────────┘ │  │ └──────────────┘   │    │
│  │ ┌─────────────┐ │  │ ┌────────────┐ │  │                    │    │
│  │ │ Pagination  │ │  │ │ BookDetail │ │  └────────────────────┘    │
│  │ └─────────────┘ │  │ └────────────┘ │                            │
│  │ ┌─────────────┐ │  │ ┌────────────┐ │  ┌────────────────────┐    │
│  │ │ SearchBar   │ │  │ │ ProfilePage│ │  │                    │    │
│  │ └─────────────┘ │  │ └────────────┘ │  │   API Services     │    │
│  │ ┌─────────────┐ │  │                │  │                    │    │
│  │ │ ErrorDisplay│ │  └────────────────┘  │ ┌──────────────┐   │    │
│  │ └─────────────┘ │                      │ │ authService  │   │    │
│  │                 │  ┌────────────────┐  │ └──────────────┘   │    │
│  └─────────────────┘  │                │  │ ┌──────────────┐   │    │
│                       │    Utilities   │  │ │ bookService  │   │    │
│                       │                │  │ └──────────────┘   │    │
│                       │ ┌────────────┐ │  │ ┌──────────────┐   │    │
│                       │ │ validators │ │  │ │ reviewService│   │    │
│                       │ └────────────┘ │  │ └──────────────┘   │    │
│                       │ ┌────────────┐ │  │ ┌──────────────┐   │    │
│                       │ │ formatters │ │  │ │ userService  │   │    │
│                       │ └────────────┘ │  │ └──────────────┘   │    │
│                       │                │  │ ┌──────────────┐   │    │
│                       └────────────────┘  │ │ recoService  │   │    │
│                                          │ └──────────────┘   │    │
│                                          │                    │    │
│                                          └────────────────────┘    │
└─────────────────────────────────────────────────────────────────────┘
```

## 3. Backend Component Detail

```
┌─────────────────────────────────────────────────────────────────────┐
│                       Backend Application                           │
│                                                                     │
│  ┌─────────────────┐  ┌────────────────┐  ┌────────────────────┐    │
│  │                 │  │                │  │                    │    │
│  │   API Routes    │  │  Controllers   │  │     Services       │    │
│  │                 │  │                │  │                    │    │
│  │ ┌─────────────┐ │  │ ┌────────────┐ │  │ ┌──────────────┐   │    │
│  │ │ authRoutes  │ │  │ │ authCtrl   │ │  │ │ authService  │   │    │
│  │ └─────────────┘ │  │ └────────────┘ │  │ └──────────────┘   │    │
│  │ ┌─────────────┐ │  │ ┌────────────┐ │  │ ┌──────────────┐   │    │
│  │ │ bookRoutes  │ │  │ │ bookCtrl   │ │  │ │ bookService  │   │    │
│  │ └─────────────┘ │  │ └────────────┘ │  │ └──────────────┘   │    │
│  │ ┌─────────────┐ │  │ ┌────────────┐ │  │ ┌──────────────┐   │    │
│  │ │ reviewRoutes│ │  │ │ reviewCtrl │ │  │ │ reviewService│   │    │
│  │ └─────────────┘ │  │ └────────────┘ │  │ └──────────────┘   │    │
│  │ ┌─────────────┐ │  │ ┌────────────┐ │  │ ┌──────────────┐   │    │
│  │ │ userRoutes  │ │  │ │ userCtrl   │ │  │ │ userService  │   │    │
│  │ └─────────────┘ │  │ └────────────┘ │  │ └──────────────┘   │    │
│  │ ┌─────────────┐ │  │ ┌────────────┐ │  │ ┌──────────────┐   │    │
│  │ │ recoRoutes  │ │  │ │ recoCtrl   │ │  │ │ recoService  │   │    │
│  │ └─────────────┘ │  │ └────────────┘ │  │ └──────────────┘   │    │
│  └─────────────────┘  └────────────────┘  └────────────────────┘    │
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐    │
│  │                                                             │    │
│  │                        Middleware                           │    │
│  │                                                             │    │
│  │  ┌────────────┐  ┌────────────┐  ┌────────────────┐         │    │
│  │  │ auth.js    │  │validation.js│  │ errorHandler.js│         │    │
│  │  └────────────┘  └────────────┘  └────────────────┘         │    │
│  │                                                             │    │
│  └─────────────────────────────────────────────────────────────┘    │
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐    │
│  │                                                             │    │
│  │                        Repositories                         │    │
│  │                                                             │    │
│  │  ┌────────────────┐ ┌────────────────┐ ┌────────────────┐   │    │
│  │  │ userRepository │ │ bookRepository │ │ reviewRepository│   │    │
│  │  └────────────────┘ └────────────────┘ └────────────────┘   │    │
│  │                                                             │    │
│  │           ┌──────────────────────────────────┐              │    │
│  │           │         baseRepository           │              │    │
│  │           └──────────────────────────────────┘              │    │
│  │                                                             │    │
│  └─────────────────────────────────────────────────────────────┘    │
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐    │
│  │                                                             │    │
│  │                       Utilities                             │    │
│  │                                                             │    │
│  │  ┌────────────────┐ ┌────────────────┐ ┌────────────────┐   │    │
│  │  │ asyncHandler   │ │ apiResponse    │ │ validators     │   │    │
│  │  └────────────────┘ └────────────────┘ └────────────────┘   │    │
│  │                                                             │    │
│  └─────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────┘
```

## 4. Data Flow Diagram

```
┌───────────────┐       ┌───────────────┐       ┌───────────────┐
│               │       │               │       │               │
│   Frontend    │       │    Backend    │       │    Storage    │
│               │       │               │       │               │
└───────┬───────┘       └───────┬───────┘       └───────┬───────┘
        │                       │                       │
        │    HTTP Request       │                       │
        │───────────────────────►                       │
        │                       │                       │
        │                       │   Read/Write Data     │
        │                       │───────────────────────►
        │                       │                       │
        │                       │   Return Data         │
        │                       │◄───────────────────────
        │                       │                       │
        │    HTTP Response      │                       │
        │◄───────────────────────                       │
        │                       │                       │
        │                       │    OpenAI API         │
        │                       │   (When needed)       │
        │                       │                       │
        │                       │                       │
        │                       │       │               │
        │                       ▼       ▼               │
        │               ┌───────────────────────┐       │
        │               │                       │       │
        │               │     OpenAI API        │       │
        │               │                       │       │
        │               └───────────────────────┘       │
        │                                               │
        └───────────────────────────────────────────────┘
```

## 5. Database Entity Relationship Diagram

```
┌───────────────────────┐       ┌───────────────────────┐
│        User           │       │         Book          │
├───────────────────────┤       ├───────────────────────┤
│ id: UUID              │       │ id: UUID              │
│ email: string         │       │ title: string         │
│ password: string      │       │ author: string        │
│ name: string          │       │ description: string   │
│ favorites: UUID[]     │       │ coverImage: string    │
└──────────┬────────────┘       │ genres: string[]      │
           │                    │ publishedYear: number │
           │                    │ averageRating: number │
           │                    │ reviewCount: number   │
           │                    └──────────┬────────────┘
           │                               │
           │                               │
           │                               │
           │                               │
┌──────────▼────────────────────────────▼──┐
│                  Review                   │
├───────────────────────────────────────────┤
│ id: UUID                                  │
│ bookId: UUID (FK to Book)                 │
│ userId: UUID (FK to User)                 │
│ text: string                              │
│ rating: number (1-5)                      │
│ timestamp: ISO date string                │
└───────────────────────────────────────────┘
```

## 6. Authentication Flow Diagram

```
┌─────────┐          ┌─────────┐          ┌─────────┐
│         │          │         │          │         │
│  User   │          │Frontend │          │Backend  │
│         │          │         │          │         │
└────┬────┘          └────┬────┘          └────┬────┘
     │                    │                    │
     │  Submit Login      │                    │
     │───────────────────►│                    │
     │                    │                    │
     │                    │  POST /auth/login  │
     │                    │───────────────────►│
     │                    │                    │
     │                    │                    │ Validate
     │                    │                    │ Credentials
     │                    │                    │
     │                    │                    │ Generate
     │                    │                    │ JWT Token
     │                    │                    │
     │                    │ Return Token       │
     │                    │◄───────────────────│
     │                    │                    │
     │                    │ Store Token        │
     │                    │                    │
     │  Show Authenticated│                    │
     │  Interface         │                    │
     │◄───────────────────│                    │
     │                    │                    │
     │  Request Protected │                    │
     │  Resource          │                    │
     │───────────────────►│                    │
     │                    │                    │
     │                    │  Request with      │
     │                    │  Authorization     │
     │                    │  Header            │
     │                    │───────────────────►│
     │                    │                    │
     │                    │                    │ Verify
     │                    │                    │ Token
     │                    │                    │
     │                    │ Return Resource    │
     │                    │◄───────────────────│
     │                    │                    │
     │  Display Resource  │                    │
     │◄───────────────────│                    │
     │                    │                    │
```

## 7. Recommendation System Flow

```
┌────────┐      ┌─────────┐      ┌─────────┐      ┌────────┐
│        │      │         │      │         │      │        │
│ User   │      │Frontend │      │Backend  │      │OpenAI  │
│        │      │         │      │         │      │API     │
└───┬────┘      └────┬────┘      └────┬────┘      └───┬────┘
    │                │                │                │
    │ Request        │                │                │
    │ Recommendations│                │                │
    │───────────────►│                │                │
    │                │                │                │
    │                │GET /recommendations             │
    │                │───────────────►│                │
    │                │                │                │
    │                │                │ Get User       │
    │                │                │ Preferences    │
    │                │                │                │
    │                │                │ Get User       │
    │                │                │ Reviews        │
    │                │                │                │
    │                │                │ Prepare        │
    │                │                │ OpenAI Prompt  │
    │                │                │                │
    │                │                │ API Request    │
    │                │                │───────────────►│
    │                │                │                │
    │                │                │                │ Generate
    │                │                │                │ Recommendations
    │                │                │                │
    │                │                │ Return         │
    │                │                │ Recommendations│
    │                │                │◄───────────────│
    │                │                │                │
    │                │                │ Process        │
    │                │                │ Recommendations│
    │                │                │                │
    │                │ Return         │                │
    │                │ Recommendations│                │
    │                │◄───────────────│                │
    │                │                │                │
    │ Display        │                │                │
    │ Recommendations│                │                │
    │◄───────────────│                │                │
    │                │                │                │
```

## 8. File Storage Structure

```
/data
  │
  ├── users.json    # User data including favorites
  │
  ├── books.json    # Book information and metadata
  │
  └── reviews.json  # Review content and ratings
```

## 9. Deployment Architecture

```
┌───────────────────────────────────────────────────────────────────────┐
│                               AWS Cloud                               │
│                                                                       │
│  ┌─────────────────────────────────────────────────────────────────┐  │
│  │                                                                 │  │
│  │                  Virtual Private Cloud (VPC)                    │  │
│  │                                                                 │  │
│  │  ┌────────────────┐         ┌────────────────┐                  │  │
│  │  │                │         │                │                  │  │
│  │  │    EC2         │         │    EC2         │                  │  │
│  │  │  (Frontend)    │         │  (Backend)     │                  │  │
│  │  │                │         │                │                  │  │
│  │  └────────┬───────┘         └────────┬───────┘                  │  │
│  │           │                          │                          │  │
│  │  ┌────────▼───────┐         ┌────────▼───────┐                  │  │
│  │  │                │         │                │                  │  │
│  │  │   Docker       │         │   Docker       │                  │  │
│  │  │  Container     │         │  Container     │                  │  │
│  │  │                │         │                │                  │  │
│  │  └────────────────┘         └────────────────┘                  │  │
│  │                                                                 │  │
│  └─────────────────────────────────────────────────────────────────┘  │
│                                                                       │
│                                                                       │
│  ┌─────────────────────────────────────┐                              │
│  │                                     │                              │
│  │            GitHub Actions           │                              │
│  │                                     │                              │
│  │  ┌─────────────────────────────┐    │                              │
│  │  │                             │    │                              │
│  │  │     CI/CD Pipeline          │    │                              │
│  │  │                             │    │                              │
│  │  └─────────────────────────────┘    │                              │
│  │                                     │                              │
│  └─────────────────────────────────────┘                              │
│                                                                       │
└───────────────────────────────────────────────────────────────────────┘
```

---

**Approved by:**

| Role | Name | Signature | Date |
|------|------|-----------|------|
| Technical Lead |  |  |  |
